<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Inventory Management </title>
</head>
<body>
    <script>
        const inventoryList = ()=>{
          let inventory = [];
          let add = (item) => {
          
            if(item.itemCount == undefined){
                item.itemCount = 1;
            }
      
         let repeat =  inventory.filter((element) => {

                   if(element.itemName ==  item.itemName){
                       return element;
                   }
                  });
                  if(repeat == ""){
                      inventory.push(item);
                  }
                  else{
                      inventory.map((element) =>{
                          if(element.itemName == item.itemName){
                              ++element.itemCount;
                          }

                      });

                  }
                  console.log(inventory);
                
           
          }
            
         let remove = (item) =>{
           let index = inventory.findIndex( (element) => {
                 if(element.itemName == item.itemName){
                     return element;
                 }
             });
             inventory.splice(index,1);
         } 
         let update = (item) => {
             inventory.map((element) => {
                 if(element.itemName == item.itemName){
                     element.itemCount = Number(item.itemCount);
                 }

             });


         }



          return{
              additem:add,
              removeitem:remove,
              updateitem:update

          }


        }


       function main(commands){
           let inventoryObj = inventoryList();
           commands.forEach( (command) => {
           let allParameters = command.split(" ");
            let currentCommand = allParameters[0];
            let name = allParameters[1];
            let count = allParameters[2];
            let item = {
                itemName:name,
                itemCount:count
            };
            if(currentCommand == "add"){
                inventoryObj.additem(item);
                         
            }
            if(currentCommand == "remove"){
                inventoryObj.removeitem(item);
                
            }
            if(currentCommand == "update"){
                inventoryObj.updateitem(item);
                
            }




           });

                
       }

       main(["add chair","add chair","add chair","add sofa 2","update sofa 20"]);
    </script>
</body>
</html>